<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Resize Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            margin-bottom: 30px;
        }
        .source-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .source-section h2 {
            margin-top: 0;
            color: #555;
        }
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .image-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .image-header {
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        .image-header h3 {
            margin: 0;
            color: #333;
            font-size: 16px;
        }
        .image-container {
            padding: 15px;
            text-align: center;
            background: #fff;
        }
        .image-container img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .dimensions {
            color: #666;
            font-size: 14px;
            margin-top: 10px;
        }
        .input-group {
            margin-bottom: 20px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
        }
        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        button {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }
        button:hover {
            background: #0056b3;
        }
        .secondary-btn {
            background: #6c757d;
        }
        .secondary-btn:hover {
            background: #545b62;
        }
        .crop-options {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
        }
        .crop-options h4 {
            margin-top: 0;
            color: #555;
        }
        .crop-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .crop-links a {
            padding: 8px 16px;
            background: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
        }
        .crop-links a:hover {
            background: #218838;
        }
        .source-original-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (max-width: 768px) {
            .source-original-container {
                flex-direction: column;
            }
            .source-original-container .image-card {
                flex: 1 !important;
            }
        }
    </style>
</head>
<body>
    <h1>Image Resize Demo</h1>

    <div class="source-original-container">
        <div class="source-section" style="flex: 1;">
            <h2>Image Source</h2>
            <div class="input-group">
                <label for="imageUrl">Image URL (leave empty for random Unsplash image):</label>
                <input type="text" id="imageUrl" placeholder="https://example.com/image.jpg" value="{{.ImageURL}}">
            </div>
            <div class="button-group">
                <button onclick="loadImage()">Load Image</button>
                <button class="secondary-btn" onclick="loadRandomImage()">Random Unsplash Image</button>
            </div>
            {{if .ImageURL}}
            <div style="margin-top: 20px;">
                <strong>Current Image:</strong> <a href="{{.ImageURL}}" target="_blank">{{.ImageURL}}</a>
            </div>
            {{end}}
        </div>

        {{if .ImageURL}}
        <!-- Original image on the right -->
        <div class="image-card" style="flex: 0 0 300px;">
            <div class="image-header">
                <h3>Original</h3>
            </div>
            <div class="image-container">
                <img src="{{.ImageURL}}" alt="Original image">
                <div class="dimensions">Original dimensions</div>
            </div>
        </div>
        {{end}}
    </div>

    {{if .ImageURL}}
    <h4>Width Examples</h4>
    <div class="image-grid">
        <!-- 100px width -->
        <div class="image-card">
            <div class="image-header">
                <h3>Width: 100px</h3>
            </div>
            <div class="image-container">
                <img src="/resize?src={{.EncodedURL}}&width=100" alt="100px width">
                <div class="dimensions">width=100</div>
            </div>
        </div>

        <!-- 200px width -->
        <div class="image-card">
            <div class="image-header">
                <h3>Width: 200px</h3>
            </div>
            <div class="image-container">
                <img src="/resize?src={{.EncodedURL}}&width=200" alt="200px width">
                <div class="dimensions">width=200</div>
            </div>
        </div>

        <!-- 300px width -->
        <div class="image-card">
            <div class="image-header">
                <h3>Width: 300px</h3>
            </div>
            <div class="image-container">
                <img src="/resize?src={{.EncodedURL}}&width=300" alt="300px width">
                <div class="dimensions">width=300</div>
            </div>
        </div>
    </div>

    <!-- Crop examples -->
    <h4>Crop Examples</h4>
    <div class="image-grid">
        <!-- 300x300 crop -->
        <div class="image-card">
            <div class="image-header">
                <h3>300x300 Crop</h3>
            </div>
            <div class="image-container">
                <img src="/resize?src={{.EncodedURL}}&c=300" alt="300x300 crop">
                <div class="dimensions">c=300</div>
            </div>
        </div>

        <!-- 200x200 crop -->
        <div class="image-card">
            <div class="image-header">
                <h3>300x200 Crop</h3>
            </div>
            <div class="image-container">
                <img src="/resize?src={{.EncodedURL}}&c=300x200" alt="200x200 crop">
                <div class="dimensions">c=300x200</div>
            </div>
        </div>

        <!-- 100x100 crop -->
        <div class="image-card">
            <div class="image-header">
                <h3>200x300 Crop</h3>
            </div>
            <div class="image-container">
                <img src="/resize?src={{.EncodedURL}}&c=200x300" alt="100x100 crop">
                <div class="dimensions">c=200x300</div>
            </div>
        </div>
    </div>

    <!-- Height examples -->
    <div class="crop-options">
        <h4>Height Examples</h4>
        <div class="image-grid">
            <!-- 300x300 crop -->
            <div class="image-card">
                <div class="image-header">
                    <h3>300 Height</h3>
                </div>
                <div class="image-container">
                    <img src="/resize?src={{.EncodedURL}}&h=300" alt="300x300 crop">
                    <div class="dimensions">h=300</div>
                </div>
            </div>

            <!-- 200x200 crop -->
            <div class="image-card">
                <div class="image-header">
                    <h3>200 Height</h3>
                </div>
                <div class="image-container">
                    <img src="/resize?src={{.EncodedURL}}&h=200" alt="200x200 crop">
                    <div class="dimensions">h=200</div>
                </div>
            </div>

            <!-- 100x100 crop -->
            <div class="image-card">
                <div class="image-header">
                    <h3>100 Height</h3>
                </div>
                <div class="image-container">
                    <img src="/resize?src={{.EncodedURL}}&h=100" alt="100x100 crop">
                    <div class="dimensions">h=100</div>
                </div>
            </div>
        </div>
    </div>
    {{end}}

    <script>
        function loadImage() {
            const url = document.getElementById('imageUrl').value;
            if (url) {
                window.location.href = '/demo?src=' + encodeURIComponent(url);
            } else {
                loadRandomImage();
            }
        }

        function loadRandomImage() {
            window.location.href = '/demo';
        }

        // Allow Enter key to load image
        document.getElementById('imageUrl').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                loadImage();
            }
        });
    </script>
</body>
</html>
